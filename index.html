<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exstasy Store</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: var(--tg-theme-bg-color, #171717); color: var(--tg-theme-text-color, #ffffff); }
        .card { background-color: var(--tg-theme-secondary-bg-color, #262626); }
        .btn-primary { background-color: var(--tg-theme-button-color, #3b82f6); color: var(--tg-theme-button-text-color, #ffffff); }
        .active-press:active { transform: scale(0.95); transition: transform 0.1s; }
    </style>
</head>
<body class="font-sans min-h-screen pb-20 select-none">

    <div class="p-4 text-center font-bold text-xl border-b border-gray-700">üíé EXSTASY MENU</div>

    <!-- –¢–ê–ë–´ -->
    <div class="flex justify-center mt-4 space-x-2 px-4">
        <button onclick="switchTab('shop')" id="btn-shop" class="flex-1 py-2 rounded-lg font-medium bg-blue-600 text-white transition">üõí –ú–∞–≥–∞–∑–∏–Ω</button>
        <button onclick="switchTab('osint')" id="btn-osint" class="flex-1 py-2 rounded-lg font-medium bg-gray-700 text-gray-300 transition">üïµÔ∏è –ü—Ä–æ–±–∏–≤</button>
    </div>

    <!-- –ú–ê–ì–ê–ó–ò–ù -->
    <div id="shop-section" class="p-4 grid grid-cols-2 gap-3 mt-2">
        <div class="card p-3 rounded-xl flex flex-col items-center shadow-lg">
            <div class="text-3xl mb-2">üá∑üá∫</div>
            <h3 class="font-bold text-sm">–†–æ—Å—Å–∏—è (RU)</h3>
            <div class="font-bold text-lg mb-2">100‚ÇΩ</div>
            <button onclick="buyItem('RU', 100)" class="btn-primary w-full py-2 rounded-lg text-sm font-bold active-press">–ö—É–ø–∏—Ç—å</button>
        </div>
        <div class="card p-3 rounded-xl flex flex-col items-center shadow-lg">
            <div class="text-3xl mb-2">üá∫üá∏</div>
            <h3 class="font-bold text-sm">–°–®–ê (US)</h3>
            <div class="font-bold text-lg mb-2">250‚ÇΩ</div>
            <button onclick="buyItem('US', 250)" class="btn-primary w-full py-2 rounded-lg text-sm font-bold active-press">–ö—É–ø–∏—Ç—å</button>
        </div>
    </div>

    <!-- –ü–†–û–ë–ò–í -->
    <div id="osint-section" class="hidden p-4 mt-2">
        <div class="card p-5 rounded-xl shadow-lg">
            <h2 class="text-lg font-bold mb-4">üîé –ü–æ–∏—Å–∫ –¥–∞–Ω–Ω—ã—Ö</h2>
            <input type="text" id="osint-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä, ID –∏–ª–∏ IP..." class="w-full p-3 rounded-lg bg-black/20 border border-gray-600 focus:outline-none focus:border-blue-500 mb-4 text-white">
            <div class="grid grid-cols-2 gap-2">
                <button onclick="sendOsint('phone')" class="btn-primary py-3 rounded-lg text-sm font-bold active-press">üìû –¢–µ–ª–µ—Ñ–æ–Ω</button>
                <button onclick="sendOsint('ip')" class="btn-primary py-3 rounded-lg text-sm font-bold active-press">üåê IP</button>
                <button onclick="sendOsint('username')" class="btn-primary py-3 rounded-lg text-sm font-bold active-press">üë§ Username</button>
                <button onclick="sendOsint('email')" class="btn-primary py-3 rounded-lg text-sm font-bold active-press">üìß Email</button>
            </div>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        function switchTab(tab) {
            document.getElementById('shop-section').classList.toggle('hidden', tab !== 'shop');
            document.getElementById('osint-section').classList.toggle('hidden', tab !== 'osint');

            document.getElementById('btn-shop').classList.toggle('bg-blue-600', tab === 'shop');
            document.getElementById('btn-shop').classList.toggle('bg-gray-700', tab !== 'shop');

            document.getElementById('btn-osint').classList.toggle('bg-blue-600', tab === 'osint');
            document.getElementById('btn-osint').classList.toggle('bg-gray-700', tab === 'shop');
        }

        function buyItem(item, price) {
            // –û–¢–õ–ê–î–ö–ê: –ï—Å–ª–∏ —ç—Ç–æ –æ–∫–Ω–æ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è, –∑–Ω–∞—á–∏—Ç JS –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
            // alert("–ù–∞–∂–∞—Ç–∞ –ø–æ–∫—É–ø–∫–∞: " + item);

            const data = JSON.stringify({ action: 'buy', item: item, price: price });
            tg.sendData(data);
            tg.close(); // –ó–∞–∫—Ä—ã–≤–∞–µ–º –æ–∫–Ω–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
        }

        function sendOsint(type) {
            const val = document.getElementById('osint-input').value;
            if(!val) {
                tg.showAlert("‚ùå –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ!");
                return;
            }

            // alert("–û—Ç–ø—Ä–∞–≤–∫–∞ OSINT: " + type);

            const data = JSON.stringify({ action: 'osint', type: type, query: val });
            tg.sendData(data);
            tg.close(); // –ó–∞–∫—Ä—ã–≤–∞–µ–º –æ–∫–Ω–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
        }
    </script>
</body>
</html>